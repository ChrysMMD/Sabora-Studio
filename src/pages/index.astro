---
import Buttons from "../components/Buttons.astro";
import Navigation from "../components/Navigation.astro";
import "../stylesheet/globalstylesheet.css";
import Card from "../components/Card.astro";
import Footer from "../components/Footer.astro";
import Infographic from "../components/Infographic.astro";
import Reviews from "../components/Reviews.astro";

const url = "https://clijcnedvgtppqzmwicf.supabase.co/rest/v1/artwork?limit=4";
// med "?limit=4" begrænser vi outputtet til at vise de første 4 objekter i vores database

const key =
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNsaWpjbmVkdmd0cHBxem13aWNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDA3Mzc1NDYsImV4cCI6MjAxNjMxMzU0Nn0.ZB94RLQFTwNWgedKWPsDaUC6axpOb001oC9_gVqzCnY";

const options = {
  headers: {
    apikey: key,
  },
};

const response = await fetch(url, options);
const data = await response.json();
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body>
    <header>
      <!-- <a href="/portfolio">Portfolio</a>
      <a href="/singleview">Singleview</a> -->
      <Navigation />
    </header>
    <main>
      <h1>This is a heading</h1>
      <p>And here is some paragraph text</p>
      <section>
        {
          data.map((artpiece) => {
            return <Card data={artpiece} />;
          })
        }
      </section>
      <section class="infographic">
        <h2>Shippingjourney</h2>
        <div class="indhold">
          <Infographic
            billede="../../public/icons/kort.svg"
            overskrift="Order"
            beskrivelse="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "
          />
          <Infographic
            billede="../../public/icons/print.svg"
            overskrift="Print"
            beskrivelse="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "
          />
          <Infographic
            billede="../../public/icons/mail.svg"
            overskrift="Mail"
            beskrivelse="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "
          />
          <Infographic
            billede="../../public/icons/hus.svg"
            overskrift="Home"
            beskrivelse="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "
          />
        </div>
      </section>

      <div id="slider">
        <input type="radio" name="slider" id="slide1" checked />
        <input type="radio" name="slider" id="slide2" />
        <input type="radio" name="slider" id="slide3" />
        <input type="radio" name="slider" id="slide4" />
        <div id="slides">
          <h2>Reviews</h2>

          <div id="overflow">
            <div class="inner">
              <div class="slide slide_1">
                <div class="slide-content">
                  <Reviews
                    tekst="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus accumsan augue sed dui porttitor, eu aliquet leo placerat. Curabitur ligula augue, congue id semper ut, tincidunt ut sapien.  "
                    navn="Lærke Bue"
                  />
                </div>
              </div>
              <div class="slide slide_2">
                <div class="slide-content">
                  <Reviews
                    tekst="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus accumsan augue sed dui porttitor, eu aliquet leo placerat. Curabitur ligula augue, congue id semper ut, tincidunt ut sapien."
                    navn="Frederikke Nygaard"
                  />
                </div>
              </div>
              <div class="slide slide_3">
                <div class="slide-content">
                  <Reviews
                    tekst="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus accumsan augue sed dui porttitor, eu aliquet leo placerat. Curabitur ligula augue, congue id semper ut, tincidunt ut sapien.  "
                    navn="Chrystal Jørgensen"
                  />
                </div>
              </div>
              <div class="slide slide_4">
                <div class="slide-content">
                  <Reviews
                    tekst="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus accumsan augue sed dui porttitor, eu aliquet leo placerat. Curabitur ligula augue, congue id semper ut, tincidunt ut sapien."
                    navn="Hasse Bill"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="controls">
          <label for="slide1"></label>
          <label for="slide2"></label>
          <label for="slide3"></label>
          <label for="slide4"></label>
        </div>
        <div id="bullets">
          <label for="slide1"></label>
          <label for="slide2"></label>
          <label for="slide3"></label>
          <label for="slide4"></label>
        </div>
      </div>

      <!-- <section class="reviews">
        <Reviews
          tekst="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus accumsan augue sed dui porttitor, eu aliquet leo placerat. Curabitur ligula augue, congue id semper ut, tincidunt ut sapien. Aliquam lacinia in nibh eu vulputate. "
          navn="Chrystal Jørgensen"
        />
      </section> -->
    </main>
    <footer>
      <Footer />
    </footer>
  </body>
</html>

<style>
  /* ----- CAUROSEL ----- 
  Link til code:
  https://codepen.io/anna_blok/pen/eYYRbQY

  Video:
  https://www.youtube.com/watch?v=1CZhGDU5cWM

  */

  #slider {
    margin: 0 auto;
    width: 800px;
    max-width: 100%;
    text-align: center;
    background-color: var(--green);
    border-bottom: 1px solid var(--lightsand);
    padding-bottom: 10px;
  }
  .slide-content {
    height: 100%;
  }

  #slider input[type="radio"] {
    display: none;
  }
  #slider label {
    cursor: pointer;
    text-decoration: none;
  }
  #slides {
    padding: 10px;
    background: var(--green);
    position: relative;
    z-index: 1;
  }
  #overflow {
    width: 100%;
    overflow: hidden;
  }
  #slide1:checked ~ #slides .inner {
    margin-left: 0;
  }
  #slide2:checked ~ #slides .inner {
    margin-left: -100%;
  }
  #slide3:checked ~ #slides .inner {
    margin-left: -200%;
  }
  #slide4:checked ~ #slides .inner {
    margin-left: -300%;
  }
  #slides .inner {
    transition: margin-left 800ms cubic-bezier(0.77, 0, 0.175, 1);
    width: 400%;
    line-height: 1.5;
    height: 300px;
  }
  #slides .slide {
    width: 25%;
    float: left;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    color: #fff;
  }

  #controls {
    margin: -180px 0 0 0;
    width: 100%;
    height: 50px;
    z-index: 3;
    position: relative;
  }
  #controls label {
    transition: opacity 0.2s ease-out;
    display: none;
    width: 50px;
    height: 50px;
    opacity: 0.4;
  }
  #controls label:hover {
    opacity: 1;
  }
  #slide1:checked ~ #controls label:nth-child(2),
  #slide2:checked ~ #controls label:nth-child(3),
  #slide3:checked ~ #controls label:nth-child(4),
  #slide1:checked ~ #controls label:nth-last-child(2),
  #slide2:checked ~ #controls label:nth-last-child(3),
  #slide3:checked ~ #controls label:nth-last-child(4),
  #bullets {
    margin: 150px 0 0;
    text-align: center;
  }
  #bullets label {
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 100%;
    background: #ccc;
    margin: 0 10px;
  }
  #slide1:checked ~ #bullets label:nth-child(1),
  #slide2:checked ~ #bullets label:nth-child(2),
  #slide3:checked ~ #bullets label:nth-child(3),
  #slide4:checked ~ #bullets label:nth-child(4) {
    background: #444;
  }

  /* ---- CARUOUSEL SLUT ---- */
  h2 {
    align-items: center;
    text-align: center;
  }
  @media (min-width: 700px) {
    .indhold {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr 1fr;
      width: 100%;
      background-color: var(--darksand);
      padding: 10px;
      gap: 10px;
    }

    .infographic {
      width: 100%;
      background-color: var(--darksand);
    }

    #slides {
      display: none;
    }

    #bullets {
      display: none;
    }

    #controls {
      display: none;
    }
  }
</style>
